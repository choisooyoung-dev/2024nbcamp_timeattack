# 2024 내일배움캠프 Node - Time Attack Hackathon

# Project Introduction

타임어택 해커톤에서는 우리 프로젝트가 기본적인 E-Commerce 요소인 로그인 및 회원 등록 기능을 구축하는 데 중점을 두고 진행하였습니다. NestJS를 활용하여 데이터베이스 상호작용을 위해 ORM을 통합한 RESTful API를 개발했습니다.
프로젝트 구현에서는 Passport 및 JWT를 활용하여 사용자 인증을 우선시했습니다.

Passport와 JWT를 통합함으로써 무단 액세스로부터 시스템을 강화하고 안정적이며 강력한 인증 메커니즘을 제공합니다.
이러한 접근 방식은 사용자 정보를 보호할 뿐만 아니라 애플리케이션의 전반적인 보안 상태를 향상시킵니다.
다양한 보안 측면을 고려하여 사용자 데이터를 안전하게 관리하고 사용자 신뢰를 향상시키는 것이 목표입니다.

프로젝트의 주요 측면은 다음과 같습니다:

1. RESTful API 개발: NestJS의 강력한 기능을 활용하여 원활한 가입 및 로그인 기능을 지원하는 효율적인 API를 구축합니다. 사용자 경험을 향상시키기 위해 높은 수준의 성능을 제공합니다.

2. ORM 데이터베이스 상호 작용: ORM 시스템을 활용하여 데이터베이스와 효과적으로 상호 작용하여 데이터의 안전한 저장 및 효율적인 검색을 보장합니다.

3. Passport 및 JWT를 사용한 인증: 안전한 인증 프로세스를 구현하기 위해 Passport와 JWT를 통합하여 사용자의 개인정보와 시스템 보안을 강화합니다.

4. Swagger 사용: 편리하게 API 명세서를 볼 수 있게 Swagger를 적용합니다.

이러한 원칙을 준수하여 우리의 프로젝트는 안전하고 사용자 친화적이며 기능이 풍부한 E-Commerce API를 타임어택 해커톤에서 구현하는 것이 저의 프로젝트 목표입니다.

## Mission

- E-Commerce 의 기본 제품 요소인 로그인, 회원가입 기능 구현
- NestJS를 사용하여 RESTful API를 만들어 회원가입 및 로그인 기능을 구현
- ORM을 사용하여 데이터베이스와 상호 작용
- Passport 및 JWT를 사용하여 인증을 구현
- 에러 핸들링 및 보안을 고려
- 인터페이스, 비즈니스 로직, 영속성 관리에 따라 책임과 역할을 적절히 나누었다.
- 에러 핸들링을 고려해야 한다. 사용자가 어떤 행동을 하든 404, 500 페이지를 보는 일은 없어야 한다.

### TO DO

1. **프로젝트 설정:**
   - Nest.js 프로젝트 생성
   - 선호하는 ORM 설정 및 모델 작성
   - JWT 모듈 설치 및 설정
2. **회원가입 API 구현:**
   - 사용자 모델 정의 및 데이터베이스에 저장
   - 유효성 검사를 통한 데이터 입력 확인
     - 이메일, 비밀번호, 이름, 전화번호 유효성 검증
       - 회원가입 버튼 클릭시 검증
       - 올바르지 않으면 오류를 표시
   - 비밀번호 암호화
3. **로그인 API 구현:**
   - 이메일 유효성 검사
     - 로그인 버튼 클릭 시 검사
   - 이메일을 찾을 수 없음 오류 처리
   - 이메일-비밀번호 불일치 오류 처리
   - JWT 토큰 생성 및 반환
   - Passport를 사용하여 로그인 인증 처리
4. **인증 미들웨어 구현:**
   - JWT 토큰을 사용하여 인증을 처리하는 미들웨어 작성
   - `accessToken` 및 `refreshToken` 처리 구현
5. **에러 핸들링 및 보안 강화:**
   - 에러 핸들링을 위한 미들웨어 구현
   - 보안 측면에서의 고려 사항 추가 (예: CSRF, 보안 헤더 등)

# 구현하며 중요하게 생각했던 점

- 프로젝트를 진행하면서 중요하게 고려한 부분은 주로 회원가입과 로그인 기능의 구현, 데이터의 안전한 저장, 그리고 사용자 인증과 보안 강화였습니다. 각 부분에 대한 상세한 내용을 아래에 설명하겠습니다.

1. 프로젝트 설정:
   프로젝트의 첫 단계로 Nest.js를 활용하여 안전하고 효율적인 API를 구축했습니다. 데이터베이스와의 상호작용을 위해 ORM을 선호하는 설정으로 구성하고, 사용자 인증을 위한 Passport와 JWT 모듈을 설치하고 설정했습니다.

2. 회원가입 API 구현:
   사용자의 회원가입을 처리하기 위해 먼저 사용자 모델을 정의하고 데이터베이스에 저장했습니다. 입력된 데이터의 유효성을 Joi validator로 엄격하게 검사하여 이메일, 비밀번호, 이름, 전화번호 등이 정확한 형식으로 입력되었는지 확인했습니다. 또한, 회원가입 버튼을 클릭했을 때 이 검증을 수행하고, 오류가 발생하면 error를 발생하도록 구현하였습니다. 비밀번호는 bcrypt를 사용하여 암호화하여 저장했습니다.

3. 로그인 API 구현:
   로그인 기능은 이메일의 유효성을 검사하고, 로그인 버튼을 클릭했을 때에도 이메일이 정확한지를 확인했습니다. 이메일을 찾을 수 없는 경우, 이메일-비밀번호 불일치 등의 오류 처리를 구현하여 사용자 경험을 향상시켰습니다. 로그인이 성공하면 JWT 토큰을 생성하고 반환하며, Passport를 사용하여 로그인 인증을 처리했습니다.

4. 인증 미들웨어 구현:
   JWT 토큰을 사용하여 인증을 처리하는 미들웨어를 구현했습니다. 이를 통해 각 API 요청에 대한 접근 권한을 검사하고, accessToken와 refreshToken을 효과적으로 처리했습니다. 사용자의 로그인 상태를 유지하고, 보안 강화를 위해 JWT 토큰을 활용하여 인증 과정을 관리했습니다.

프로젝트를 진행하면서 이러한 세부 사항들을 고려하고 구현함으로써 안전하고 신뢰성 있는 서비스를 제공할 수 있도록 노력했습니다.
